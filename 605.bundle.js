"use strict";(self.webpackChunkdust_web=self.webpackChunkdust_web||[]).push([[605],{376(e,t,n){e.exports=n.p+"85121baf012c95e8e820.wasm"},605(e,t,n){let r;function o(e){const t=r.__externref_table_alloc();return r.__wbindgen_externrefs.set(t,e),t}function a(e,t){return e>>>=0,f().subarray(e/1,e/1+t)}n.r(t),n.d(t,{EmuState:()=>h,SaveType:()=>v,WbgModel:()=>k,create_emu_state:()=>A,default:()=>R,initSync:()=>S,internal_get_memory:()=>F,internal_get_module:()=>x,run_worker:()=>E});let s=null;function i(){return null!==s&&s.buffer===r.memory.buffer||(s=new DataView(r.memory.buffer)),s}let _=null;function u(e,t){return function(e,t){return d+=t,d>=w&&(m=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),m.decode(),d=t),m.decode(f().slice(e,e+t))}(e>>>=0,t)}let c=null,l=null;function f(){return null!==l&&l.buffer===r.memory.buffer||(l=new Uint8Array(r.memory.buffer)),l}function b(e){return null==e}let m="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):void 0;m&&m.decode();const w=2146435072;let d=0;const g="undefined"!=typeof TextEncoder?new TextEncoder:void 0;g&&(g.encodeInto=function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}});let p=0;const y="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>r.__wbg_emustate_free(e>>>0,1));class h{static __wrap(e){e>>>=0;const t=Object.create(h.prototype);return t.__wbg_ptr=e,y.register(t,t.__wbg_ptr,t),t}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,y.unregister(this),e}free(){const e=this.__destroy_into_raw();r.__wbg_emustate_free(e,0)}export_save(){return r.emustate_export_save(this.__wbg_ptr)}update_input(e,t){r.emustate_update_input(this.__wbg_ptr,e,t)}update_touch(e,t){r.emustate_update_touch(this.__wbg_ptr,b(e)?16777215:e,b(t)?16777215:t)}reset(){r.emustate_reset(this.__wbg_ptr)}load_save(e){r.emustate_load_save(this.__wbg_ptr,e)}run_frame(){return r.emustate_run_frame(this.__wbg_ptr)}}Symbol.dispose&&(h.prototype[Symbol.dispose]=h.prototype.free);const v=Object.freeze({None:0,0:"None",Eeprom4k:1,1:"Eeprom4k",EepromFram64k:2,2:"EepromFram64k",EepromFram512k:3,3:"EepromFram512k",EepromFram1m:4,4:"EepromFram1m",Flash2m:5,5:"Flash2m",Flash4m:6,6:"Flash4m",Flash8m:7,7:"Flash8m",Nand64m:8,8:"Nand64m",Nand128m:9,9:"Nand128m",Nand256m:10,10:"Nand256m"}),k=Object.freeze({Ds:0,0:"Ds",Lite:1,1:"Lite",Ique:2,2:"Ique",IqueLite:3,3:"IqueLite",Dsi:4,4:"Dsi"});function A(e,t,n,a,s,i,_,u,c){const l=r.create_emu_state(b(e)?0:o(e),b(t)?0:o(t),b(n)?0:o(n),a,b(s)?0:o(s),b(i)?11:i,_,u,c);return h.__wrap(l)}function F(){return r.internal_get_memory()}function x(){return r.internal_get_module()}function E(){r.run_worker()}const W=new Set(["basic","cors","default"]);function O(e){const t={wbg:{}};return t.wbg.__wbg___wbindgen_memory_a342e963fbcabd68=function(){return r.memory},t.wbg.__wbg___wbindgen_module_967adef62ea6cbf8=function(){return j.__wbindgen_wasm_module},t.wbg.__wbg___wbindgen_throw_dd24417ed36fc46e=function(e,t){throw new Error(u(e,t))},t.wbg.__wbg_call_c8baa5c5e72d274e=function(){return function(e,t){try{return function(e,t,n,r){return e.call(t,n,r)}.apply(this,t)}catch(e){const t=o(e);r.__wbindgen_exn_store(t)}}(0,arguments)},t.wbg.__wbg_error_7534b8e9a36f1ab4=function(e,t){let n,o;try{n=e,o=t,console.error(u(e,t))}finally{r.__wbindgen_free(n,o,1)}},t.wbg.__wbg_length_22ac23eaec9d8053=function(e){return e.length},t.wbg.__wbg_new_8a6f238a6ece86ea=function(){return new Error},t.wbg.__wbg_new_from_slice_41e2764a343e3cb1=function(e,t){return new Float32Array((n=e,o=t,n>>>=0,(null!==_&&_.buffer===r.memory.buffer||(_=new Float32Array(r.memory.buffer)),_).subarray(n/4,n/4+o)));var n,o},t.wbg.__wbg_new_from_slice_db0691b69e9d3891=function(e,t){return new Uint32Array((n=e,o=t,n>>>=0,(null!==c&&c.buffer===r.memory.buffer||(c=new Uint32Array(r.memory.buffer)),c).subarray(n/4,n/4+o)));var n,o},t.wbg.__wbg_new_from_slice_f9c22b9153b26992=function(e,t){return new Uint8Array(a(e,t))},t.wbg.__wbg_prototypesetcall_dfe9b766cdc1f1fd=function(e,t,n){Uint8Array.prototype.set.call(a(e,t),n)},t.wbg.__wbg_stack_0ed75d68575b0f3c=function(e,t){const n=function(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length,1)>>>0;return f().subarray(r,r+n.length).set(n),p=n.length,r}let r=e.length,o=t(r,1)>>>0;const a=f();let s=0;for(;s<r;s++){const t=e.charCodeAt(s);if(t>127)break;a[o+s]=t}if(s!==r){0!==s&&(e=e.slice(s)),o=n(o,r,r=s+3*e.length,1)>>>0;const t=f().subarray(o+s,o+r);s+=g.encodeInto(e,t).written,o=n(o,r,s,1)>>>0}return p=s,o}(t.stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=p;i().setInt32(e+4,o,!0),i().setInt32(e+0,n,!0)},t.wbg.__wbindgen_init_externref_table=function(){const e=r.__wbindgen_externrefs,t=e.grow(4);e.set(0,void 0),e.set(t+0,void 0),e.set(t+1,null),e.set(t+2,!0),e.set(t+3,!1)},t.wbg.memory=e||new WebAssembly.Memory({initial:19,maximum:16384,shared:!0}),t}function I(e,t,n){if(r=e.exports,j.__wbindgen_wasm_module=t,s=null,_=null,c=null,l=null,void 0!==n&&("number"!=typeof n||0===n||n%65536!=0))throw"invalid stack size";return r.__wbindgen_start(n),r}function S(e,t){if(void 0!==r)return r;let n;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module:e,memory:t,thread_stack_size:n}=e):console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const o=O(t);return e instanceof WebAssembly.Module||(e=new WebAssembly.Module(e)),I(new WebAssembly.Instance(e,o),e,n)}async function j(e,t){if(void 0!==r)return r;let o;void 0!==e&&(Object.getPrototypeOf(e)===Object.prototype?({module_or_path:e,memory:t,thread_stack_size:o}=e):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===e&&(e=new URL(n(376),n.b));const a=O(t);("string"==typeof e||"function"==typeof Request&&e instanceof Request||"function"==typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:s,module:i}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if(!e.ok||!W.has(e.type)||"application/wasm"===e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await e,a);return I(s,i,o)}const R=j}}]);